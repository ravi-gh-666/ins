{% extends "base.html" %}
{% block content %}
<div class="container">
    <h1 class="text-3xl font-bold mb-6">Blog</h1>
    <a href="{{ url_for('blog_new') }}" class="action-btn mb-4">New Blog Post</a>
    {% for blog in blogs %}
        <div class="card mb-4">
            <h2 class="text-xl font-bold"><a href="{{ url_for('blog_detail', blog_id=blog['id']) }}">{{ blog['title'] }}</a></h2>
            <p class="text-gray-600 mb-2">By {{ blog['author'] or 'Anonymous' }} on {{ blog['created_at'][:10] }}</p>
            {% if blog['image'] %}
                <img src="{{ url_for('blog_image', filename=blog['image']) }}" alt="Blog Image" class="mb-2" style="max-width:300px;">
            {% endif %}
            <p>{{ blog['content'][:200] }}{% if blog['content']|length > 200 %}...{% endif %}</p>
            <a href="{{ url_for('blog_detail', blog_id=blog['id']) }}" class="text-pink-700 font-semibold">Read more</a>
        </div>
    {% else %}
        <p>No blog posts yet.</p>
    {% endfor %}
</div>
{% endblock %}